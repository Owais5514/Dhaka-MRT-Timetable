<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary SEO Meta Tags -->
    <title>Dhaka MRT-6 Schedule | Real-time Metro Train Timetable</title>
    <meta name="description" content="Live Dhaka MRT-6 metro train schedule with real-time updates. Check arrivals and departures for all stations between Uttara North and Motijheel.">
    <meta name="keywords" content="Dhaka MRT-6, Dhaka Metro, Bangladesh Metro, MRT Schedule, Dhaka Metro Timetable, Dhaka Public Transport, Live Train Updates">
    
    <!-- Open Graph / Facebook Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://owais5514.github.io/Dhaka-MRT-Timetable/">
    <meta property="og:title" content="Dhaka MRT-6 Metro Schedule | Real-time Train Timetable">
    <meta property="og:description" content="Check Dhaka MRT-6 metro train arrivals and departures in real-time. Live timetable for all stations including Uttara North, Mirpur, Kazipara, Agargaon, and Motijheel.">
    <meta property="og:image" content="https://owais5514.github.io/Dhaka-MRT-Timetable/icons/metro-icon.png">
    
    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://owais5514.github.io/Dhaka-MRT-Timetable/">
    <meta name="twitter:title" content="Dhaka MRT-6 Metro Schedule | Real-time Train Timetable">
    <meta name="twitter:description" content="Check Dhaka MRT-6 metro train arrivals and departures in real-time. Live timetable for all stations including Uttara North, Mirpur, Kazipara, Agargaon, and Motijheel.">
    <meta name="twitter:image" content="https://owais5514.github.io/Dhaka-MRT-Timetable/icons/metro-icon.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://owais5514.github.io/Dhaka-MRT-Timetable/">
    
    <!-- Geo Tags -->
    <meta name="geo.region" content="BD">
    <meta name="geo.placename" content="Dhaka">
    
    <!-- Mobile App Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Dhaka MRT-6">
    <link rel="apple-touch-icon" href="./icons/metro-icon.png">
    
    <!-- Existing Stylesheets and Scripts -->
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <script src="script.js" defer></script>
    <link rel="manifest" href="./manifest.webmanifest">
    
    <!-- Vercel Web Analytics -->
    <script>
      window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Dhaka MRT-6 Schedule",
      "description": "Real-time Dhaka metro train timetable application showing arrival and departure times for all MRT-6 stations",
      "url": "https://owais5514.github.io/Dhaka-MRT-Timetable/",
      "applicationCategory": "Transportation",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "BDT"
      },
      "operatingSystem": "Any",
      "author": {
        "@type": "Person",
        "name": "Owais5514",
        "url": "https://github.com/Owais5514"
      }
    }
    </script>
    
    <!-- Public Transit Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "PublicTransitService",
      "name": "Dhaka MRT-6 Metro",
      "serviceArea": {
        "@type": "City",
        "name": "Dhaka",
        "sameAs": "https://en.wikipedia.org/wiki/Dhaka"
      },
      "providerMobility": "https://dmtcl.gov.bd/",
      "description": "Dhaka MRT-6 metro line connecting Uttara North to Motijheel"
    }
    </script>
</head>
<body>
    <!-- Permanent Top Menu -->
    <div class="top-menu">
        <div class="top-menu-container">
            <a href="index.html" class="top-menu-link active">Home</a>
            <a href="journey.html" class="top-menu-link">Journey Planner</a>
            <a href="#" class="top-menu-link" id="live-updates-btn">Live Updates</a>
            <a href="#" class="top-menu-link" id="requests-btn">Requests</a>
            <a href="#" class="top-menu-link" id="admin-btn">Dev</a>
        </div>
    </div>
    
    <!-- Modernized Admin Panel with Close Button -->
    <div id="admin-modal" class="admin-modal">
        <div id="admin-panel" class="admin-panel">
            <div class="admin-header">
                <h3>Dev Panel</h3>
                <button id="close-admin" class="close-button">&times;</button>
            </div>
            <div class="admin-section">
                <label for="admin-password">Password:</label>
                <input type="password" id="admin-password" class="admin-input">
                <button id="admin-unlock" class="admin-button">Unlock</button>
            </div>
            <div id="admin-controls" class="admin-controls" style="display:none;">
                <label for="custom-time">Set Time:</label>
                <input type="time" id="custom-time" class="admin-input" lang="en-GB" step="1" placeholder="HH:MM:SS (24hr)">
                <button id="set-time" class="admin-button">Set Custom Time</button>
                <button id="reset-time" class="admin-button">Reset</button>
                <hr>
                <h4>Pending Announcements</h4>
                <div id="pending-announcements">
    <!-- Feature Request Popup -->
    <div id="request-modal" class="modal-overlay">
        <div class="request-panel">
            <div class="request-header">
                <h3>Feature Request</h3>
                <button id="close-request" class="close-button">&times;</button>
            </div>
            <div class="request-content">
                <p>Have ideas for new features? Submit them directly to our GitHub repository!</p>
                <form id="request-form">
                    <div class="form-group">
                        <label for="request-name">Your Name (optional):</label>
                        <input type="text" id="request-name" class="request-input" placeholder="Enter your name">
                    </div>
                    <div class="form-group">
                        <label for="request-email">Email (optional):</label>
                        <input type="email" id="request-email" class="request-input" placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label for="request-text">Your Request:</label>
                        <textarea id="request-text" class="request-textarea" placeholder="Describe the feature you'd like to see..." required></textarea>
                    </div>
                    <button type="submit" class="request-button">Submit to GitHub</button>
                </form>
                <div id="request-message" class="request-message"></div>
            </div>
        </div>
    </div>

    <div class="container">
        <header>
            <div class="clock" id="clock"></div>
            <h1>Dhaka MRT-6</h1>
            <p class="tagline">Unofficial Metro Time Schedule & Journey Planner</p>
        </header>
        
        <main>
            <section class="station-selector">
                <label for="station-dropdown">Select Your Current Station:</label>
                <div class="custom-dropdown-container">
                    <div class="custom-dropdown-wrapper">
                        <div class="custom-dropdown" id="station-dropdown">
                            <div class="selected-option" id="selected-station">
                                <span>Select a station</span>
                                <i class="dropdown-arrow">â–¼</i>
                            </div>
                            <div class="dropdown-options" id="station-options">
                                <div class="station-columns">
                                    <!-- Options will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                        <button id="confirm">Confirm</button>
                    </div>
                    <!-- Hidden select element to maintain compatibility with existing JS -->
                    <select id="station" style="display: none;"></select>
                </div>
            </section>

            <!-- Train buttons section -->
            <section class="train-options">
                <div class="train-buttons">
                    <button id="firstTrain">First Train</button>
                    <button id="lastTrain">Last Train</button>
                </div>
                <!-- Arrival message container -->
                <div id="arrival-message"></div>
            </section>
            
            <section class="schedule-display">
                <div id="schedule"></div>
                <div class="platform-info-container">
                    <div class="platform" id="platform1"></div>
                    <div class="platform" id="platform2"></div>
                </div>
            </section>
        </main>
        
        <footer>
            <div class="footer">
                <p>Made by <a href="https://github.com/Owais5514" target="_blank">Owais5514</a></p>
            </div>
            <div class="disclaimer">
                <h3 class="disclaimer-title" style="cursor: pointer;">Disclaimer</h3>
                <div class="disclaimer-content">
                    <p>This is an unofficial time schedule of Dhaka MRT-6. The times do not reflect actual train times provided by DMTCL, rather this is made using the schedule provided on the official website. Delays will not be reflected on this page.</p>
                </div>
            </div>
            <!-- Admin button removed from here and moved to hamburger menu -->
        </footer>
    </div>
    <!-- Optional: Service worker registration -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
          navigator.serviceWorker.register('./service-worker.js')
            .then(reg => console.log('Service Worker registered', reg))
            .catch(err => console.error('Service Worker registration failed:', err));
        });
      }
      
      // Hamburger menu functionality removed
      document.addEventListener('DOMContentLoaded', function() {
        // Updated Admin button functionality for main navigation
        const adminBtn = document.getElementById('admin-btn');
        const adminModal = document.getElementById('admin-modal');
        const closeAdmin = document.getElementById('close-admin');
        
        adminBtn.addEventListener('click', function(event) {
            event.preventDefault();
            adminModal.style.display = 'flex';
        });
        
        // Close admin panel when clicking the close button
        closeAdmin.addEventListener('click', function() {
            adminModal.style.display = 'none';
        });
        
        // Close admin panel when clicking outside
        window.addEventListener('click', function(event) {
            if (event.target === adminModal) {
                adminModal.style.display = 'none';
            }
        });
        
        // Feature request functionality
        const requestsBtn = document.getElementById('requests-btn');
        const requestModal = document.getElementById('request-modal');
        const closeRequest = document.getElementById('close-request');
        const requestForm = document.getElementById('request-form');
        const requestMessage = document.getElementById('request-message');
        
        // Open request modal when clicking the Requests button
        requestsBtn.addEventListener('click', function(event) {
            event.preventDefault();
            requestModal.style.display = 'flex';
        });
        
        // Close request modal with close button
        closeRequest.addEventListener('click', function() {
            requestModal.style.display = 'none';
        });
        
        // Close request modal when clicking outside
        window.addEventListener('click', function(event) {
            if (event.target === requestModal) {
                requestModal.style.display = 'none';
            }
        });
        
        // Handle form submission - Create GitHub issue for feature requests
        requestForm.addEventListener('submit', function(event) {
            event.preventDefault();
            
            const name = document.getElementById('request-name').value;
            const email = document.getElementById('request-email').value;
            const requestText = document.getElementById('request-text').value;
            
            if (!requestText.trim()) {
                requestMessage.innerHTML = '<p class="error">Please describe your request.</p>';
                return;
            }
            
            // Format the issue title and body
            const issueTitle = `Feature Request: ${requestText.substring(0, 50)}${requestText.length > 50 ? '...' : ''}`;
            let issueBody = `## Feature Request\n\n${requestText}\n\n`;
            
            if (name) {
                issueBody += `**Requested by:** ${name}\n`;
            }
            if (email) {
                issueBody += `**Contact:** ${email}\n`;
            }
            
            issueBody += `\n**Submitted via:** Feature Request Form on ${window.location.href}`;
            
            // Create GitHub issue using GitHub's public issue creation API
            const repoOwner = 'Owais5514';
            const repoName = 'Dhaka-MRT-Timetable';
            
            // Build the URL with pre-filled information
            const issueUrl = `https://github.com/${repoOwner}/${repoName}/issues/new?title=${encodeURIComponent(issueTitle)}&body=${encodeURIComponent(issueBody)}&labels=enhancement,feature-request`;
            
            // Redirect to GitHub issue creation page
            window.open(issueUrl, '_blank');
            
            // Show confirmation and reset form
            requestMessage.innerHTML = '<p class="success">You are being redirected to GitHub to submit your feature request.</p>';
            requestForm.reset();
        });
      });
    </script>
</body>
</html>